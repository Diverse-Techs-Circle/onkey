<!DOCTYPE html>
<html>

<body>
    <dialog id="favDialog">
        <form method="dialog">
            <input type="search" placeholder="This is a search box!">
            <menu>
                <button value="cancel">Cancel</button>
                <button id="confirmBtn" value="default">Confirm</button>
            </menu>
        </form>
    </dialog>

    <menu>
        <button id="updateDetails">Update details</button>
    </menu>

    <output aria-live="polite"></output>
</body>

<script>
    var updateButton = document.getElementById('updateDetails');
    var favDialog = document.getElementById('favDialog');
    var outputBox = document.querySelector('output');
    var selectEl = document.querySelector('select');
    var confirmBtn = document.getElementById('confirmBtn');

    // "Update details" button opens the <dialog> modally
    updateButton.addEventListener('keydown', function onOpen() {
        if (event.key = 's') {
            if (typeof favDialog.showModal === "function") {
                favDialog.showModal();
            } else {
                alert("The <dialog> API is not supported by this browser");
            }
        }
    });
    // "Favorite animal" input sets the value of the submit button
    selectEl.addEventListener('change', function onSelect(e) {
        confirmBtn.value = selectEl.value;
    });
    // "Confirm" button of form triggers "close" on dialog because of [method="dialog"]
    favDialog.addEventListener('close', function onClose() {
        outputBox.value = favDialog.returnValue + " button clicked - " + (new Date()).toString();
    });
</script>

</html>